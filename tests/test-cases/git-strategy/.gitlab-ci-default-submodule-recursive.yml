---
stages:
 - test

build-job:
 variables:
  GIT_SUBMODULE_STRATEGY: recursive
 stage: test
 script:
  - pwd
  - test -f .gitlab-ci-default.yml || exit 1
  - test -f submodule_moved/test.txt || exit 1
  - test -f submodule_moved/submodule/test.txt || exit 1
  - test -f submodule_moved/mid_folder/submodule/test.txt || exit 1
  - test -f submodule_moved/mid_folder/submodule/submodule/test.txt || exit 1
  - test -f submodule_moved/mid_folder/submodule/submodule/submodule/test.txt || exit 1
  - echo repo is correct
